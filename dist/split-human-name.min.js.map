{"mappings":"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","sources":["src/index.js","node_modules/@compwright/namecase/src/index.js","node_modules/humanparser/index.js","node_modules/@swc/helpers/src/_sliced_to_array.js","node_modules/@swc/helpers/src/_array_with_holes.js","node_modules/@swc/helpers/src/_iterable_to_array.js","node_modules/@swc/helpers/src/_non_iterable_rest.js","node_modules/@swc/helpers/src/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/src/_array_like_to_array.js","src/browser.js"],"sourcesContent":["const nameCase = require('@compwright/namecase');\nconst human = require('humanparser');\n\nfunction combineFullName (parts) {\n  return (combineFirstName(parts) + ' ' + combineLastName(parts)).trim();\n}\n\nfunction combineFirstName ({ salutation, firstName, middleName }) {\n  return [salutation, firstName, middleName].filter(s => !!s).join(' ').trim();\n}\n\nfunction combineLastName ({ lastName, suffix }) {\n  return lastName + (suffix ? ', ' + suffix : '');\n}\n\nfunction normalizeNameWithTitle (parts, i, names) {\n  // { salutation: 'Dr', lastName: 'John' } => { salutation: 'Dr', firstName: 'John' }\n  if (!parts.firstName && parts.lastName && i === 0 && names.length > 1) {\n    parts.firstName = parts.lastName;\n    delete parts.lastName;\n  }\n  return parts;\n}\n\nfunction normalizeMiddleName (parts, i, names) {\n  // { firstName: 'Danial', lastName: 'P.' } => { firstName: 'Danial', middleName: 'P.' }\n  if (!parts.middleName && (/\\b[A-Z]{1}\\.?\\b/i).test(parts.lastName) && i === 0 && names.length > 1) {\n    parts.middleName = parts.lastName;\n    delete parts.lastName;\n  }\n  return parts;\n}\n\nconst splitter = / and | & /i;\n\nfunction splitName (name) {\n  // Extract the first \"and\" or &\n  const conjuction = splitter.test(name) && (\n    ' ' + name.match(splitter)[0].trim().toLowerCase() + ' '\n  );\n\n  const names = name\n    .split(splitter)\n    .map(nameCase)\n    .map(name => human.parseName(name))\n    .map(normalizeNameWithTitle)\n    .map(normalizeMiddleName);\n\n  // Curly & Moe & Larry\n  if (names.length > 2) {\n    return {\n      firstName: nameCase(name),\n      lastName: ''\n    };\n  }\n\n  if (names.length === 2) {\n    let firstName = names.map(combineFirstName).join(conjuction);\n    let lastName = '';\n\n    // John Smith and Mary Smith\n    if (names[0].lastName === names[1].lastName) {\n      lastName = combineLastName(names[1]);\n    // John and Mary Smith\n    } else if (!names[0].lastName) {\n      lastName = combineLastName(names[1]);\n    // John Smith and Mary\n    } else if (!names[1].lastName) {\n      lastName = combineLastName(names[0]);\n    // John Smith and Jane Doe\n    } else {\n      firstName = nameCase(name);\n      lastName = '';\n    }\n\n    return { firstName, lastName };\n  }\n\n  return {\n    firstName: combineFirstName(names[0]),\n    lastName: combineLastName(names[0])\n  };\n}\n\nmodule.exports = splitName;\n\nmodule.exports.combineFirstName = combineFirstName;\nmodule.exports.combineLastName = combineLastName;\nmodule.exports.combineFullName = combineFullName;\n","// Don't change capitalization unless capitalization isn't set\nconst checkName = name => name === name.toLowerCase() || name === name.toUpperCase();\n\n// Strip out extraneous spaces\nconst normalize = name => name.replace(/\\s{2,}/g, ' ');\n\n// Actual case fixing function\nfunction nc (el, opt = {}) {\n  el = el.trim().toLowerCase();\n\n  // Split names on regex whitespace, dash or apostrophe, workaround for\n  // Javascript regex word boundary \\b splitting on unicode characters\n  // http://stackoverflow.com/questions/5311618/javascript-regular-expression-problem-with-b-and-international-characters\n  const splitters = [\n    { s: /\\s/, r: ' ' },\n    { s: /-/, r: '-' },\n    { s: /'/, r: \"'\" },\n    { s: /\"/, r: '\"' },\n    { s: /\\(/, r: '(' },\n    { s: /\\./, r: '.' },\n    { s: /,/, r: ',' },\n    { s: /\\//, r: '/' }\n  ];\n\n  for (let i = 0; i < splitters.length; i++) {\n    const elArr = el.split(splitters[i].s);\n    for (let j = 0; j < elArr.length; j++) {\n      elArr[j] = elArr[j].charAt(0).toUpperCase() + elArr[j].slice(1);\n    }\n    el = elArr.join(splitters[i].r);\n  }\n\n  // Name case Mcs and Macs\n  // Exclude names with 1-2 letters after prefix like Mack, Macky, Mace\n  // Exclude names ending in a,c,i,o, or j are typically Polish or Italian\n  if (\n    /\\bMac[A-Za-z]{2,}[^aciozj]\\b/.test(el) ||\n    /\\bMc/.test(el)\n  ) {\n    el = el.replace(\n      /\\b(Ma?c)([A-Za-z]+)/,\n      (x, y, z) => y + z.charAt(0).toUpperCase() + z.substring(1)\n    );\n\n    // Now correct for \"Mac\" exceptions\n    el = el\n      .replace(/\\bMacEvicius\\b/, 'Macevicius')\n      .replace(/\\bMacHado\\b/, 'Machado')\n      .replace(/\\bMacHar\\b/, 'Machar')\n      .replace(/\\bMacHin\\b/, 'Machin')\n      .replace(/\\bMacHlin\\b/, 'Machlin')\n      .replace(/\\bMacIas\\b/, 'Macias')\n      .replace(/\\bMacIulis\\b/, 'Maciulis')\n      .replace(/\\bMacKie\\b/, 'Mackie')\n      .replace(/\\bMacKle\\b/, 'Mackle')\n      .replace(/\\bMacKlin\\b/, 'Macklin')\n      .replace(/\\bMacQuarie\\b/, 'Macquarie')\n      .replace(/\\bMacOmber\\b/, 'Macomber')\n      .replace(/\\bMacIn\\b/, 'Macin')\n      .replace(/\\bMacKintosh\\b/, 'Mackintosh')\n      .replace(/\\bMacKen\\b/, 'Macken')\n      .replace(/\\bMacHen\\b/, 'Machen')\n      .replace(/\\bMacHiel\\b/, 'Machiel')\n      .replace(/\\bMacIol\\b/, 'Maciol')\n      .replace(/\\bMacKell\\b/, 'Mackell')\n      .replace(/\\bMacKlem\\b/, 'Macklem')\n      .replace(/\\bMacKrell\\b/, 'Mackrell')\n      .replace(/\\bMacLin\\b/, 'Maclin')\n      .replace(/\\bMacKey\\b/, 'Mackey')\n      .replace(/\\bMacKley\\b/, 'Mackley')\n      .replace(/\\bMacHell\\b/, 'Machell')\n      .replace(/\\bMacHon\\b/, 'Machon')\n      .replace(/\\bMacAyla\\b/, 'Macayla');\n  }\n\n  // And correct Mac exceptions otherwise missed\n  el = el\n    .replace(/\\bMacmurdo/, 'MacMurdo')\n    .replace(/\\bMacisaac/, 'MacIsaac')\n\n  // Fixes for \"son (daughter) of\" etc. in various languages.\n    .replace(/\\bAl(?=\\s+\\w)\\b/g, 'al') // al Arabic or forename Al.\n    .replace(/\\bAp\\b/g, 'ap') // ap Welsh.\n    .replace(/\\bBen(?=\\s+\\w)\\b/g, 'ben') // ben Hebrew or forename Ben.\n    .replace(/\\bDell([ae])\\b/g, 'dell$1') // della and delle Italian.\n    .replace(/\\bD([aeiu])\\b/g, 'd$1') // da, de, di Italian; du French.\n    .replace(/\\bDe([lr])\\b/g, 'de$1') // del Italian; der Dutch/Flemish.\n    .replace(/\\bEl\\b/g, 'el') // el Greek\n    .replace(/\\bLa\\b/g, 'la') // la French\n    .replace(/\\bLe(?=\\s+\\w)\\b/g, 'le') // le French\n    .replace(/\\bLo\\b/g, 'lo') // lo Italian\n    .replace(/\\bVan(?=\\s+\\w)\\b/g, 'van') // van German or forename Van.\n    .replace(/\\bVon\\b/g, 'von') // von Dutch/Flemish\n\n  // Fixes for roman numeral names, e.g. Henry VIII\n    .replace(/\\b(?:\\d{4}|(?:[IVX])(?:X{0,3}I{0,3}|X{0,2}VI{0,3}|X{0,2}I?[VX]))$/i, v => v.toUpperCase())\n\n  // Nation of Islam 2X, 3X, etc. names\n    .replace(/\\b[0-9](x)\\b/, v => v.toUpperCase())\n\n  // Somewhat arbitrary rule where two letter combos not containing vowels should be capitalized\n  // fixes /JJ Abrams/ and /JD Salinger/\n  // With some exceptions\n    .replace(/\\b[bcdfghjklmnpqrstvwxzBCDFGHJKLMNPQRSTVWXZ]{2}\\s/, v => v.toUpperCase())\n    .replace(/\\bMR\\.?\\b/, 'Mr')\n    .replace(/\\bMS\\.?\\b/, 'Ms')\n    .replace(/\\bDR\\.?\\b/, 'Dr')\n    .replace(/\\bST\\.?\\b/, 'St')\n    .replace(/\\bJR\\.?\\b/, 'Jr')\n    .replace(/\\bSR\\.?\\b/, 'Sr')\n    .replace(/\\bLT\\.?\\b/, 'Lt')\n\n  // lowercase words\n    .replace(/\\bThe\\b/g, 'the')\n    .replace(/\\bOf\\b/g, 'of')\n    .replace(/\\bAnd\\b/g, 'and')\n    .replace(/\\bY\\s/g, 'y')\n\n  // strip extra spaces\n    .replace(/\\s{2,}/g, ' ');\n\n  // check if we should force the first character to caps\n  if (opt.individualFields === true) {\n    // first character may be lowercase\n    return el;\n  }\n\n  // force first character to be uppercase\n  return el.charAt(0).toUpperCase() + el.substring(1);\n}\n\nfunction namecase (input, opt) {\n  if (Array.isArray(input)) {\n    return input.map(namecase);\n  }\n\n  if (typeof input === 'string') {\n    return nc(input, opt);\n  }\n\n  return input;\n}\n\nmodule.exports = namecase;\nmodule.exports.checkName = checkName;\nmodule.exports.normalize = normalize;\n","const parser = module.exports = {};\n\nfunction diff(a1, a2) {\n\treturn a1.concat(a2).filter((val, index, arr) => {\n\t\treturn arr.indexOf(val) === arr.lastIndexOf(val);\n\t});\n}\n\nparser.parseName = function (name, ignoreSuffix) {\n\tif (!ignoreSuffix) ignoreSuffix = []\n\tconst salutations = ['mr', 'master', 'mister', 'mrs', 'miss', 'ms', 'dr', 'prof', 'rev', 'fr', 'judge', 'honorable', 'hon', 'tuan', 'sr', 'srta', 'br', 'pr', 'mx', 'sra'];\n\tconst suffixes = ['i', 'ii', 'iii', 'iv', 'v', 'senior', 'junior', 'jr', 'sr', 'phd', 'apr', 'rph', 'pe', 'md', 'ma', 'dmd', 'cme', 'qc', 'kc'].filter(suffix => !ignoreSuffix.includes(suffix));\n\tconst compound = ['vere', 'von', 'van', 'de', 'del', 'della', 'der', 'den', 'di', 'da', 'pietro', 'vanden', 'du', 'st.', 'st', 'la', 'lo', 'ter', 'bin', 'ibn', 'te', 'ten', 'op', 'ben', 'al'];\n\n\tlet parts = name\n\t\t.trim()\n\t\t.replace(/\\b\\s+(,\\s+)\\b/, '$1') // fix name , suffix -> name, suffix\n\t\t.replace(/\\b,\\b/, ', ')         // fix name,suffix -> name, suffix\n\t// look for quoted compound names\n\tparts = (parts.match(/[^\\s\"]+|\"[^\"]+\"/g) || parts.split(/\\s+/)).map(n => n.match(/^\".*\"$/) ? n.slice(1, -1) : n)\n\tconst attrs = {};\n\n\tif (!parts.length) {\n\t\treturn attrs;\n\t}\n\n\tif (parts.length === 1) {\n\t\tattrs.firstName = parts[0];\n\t}\n\n\t//handle suffix first always, remove trailing comma if there is one\n\tif (parts.length > 1 && suffixes.indexOf(parts[parts.length - 1].toLowerCase().replace(/\\./g, '')) > -1) {\n\t\tattrs.suffix = parts.pop();\n\t\tparts[parts.length - 1] = parts[parts.length - 1].replace(',', '');\n\t}\n\n\t//look for a comma to know we have last name first format\n\tconst firstNameFirstFormat = parts.every(part => {\n\t\treturn part.indexOf(',') === -1;\n\t});\n\n\tif (!firstNameFirstFormat) {\n\t\t//last name first format\n\t\t//assuming salutations are never used in this format\n\n\t\t//tracker variable for where first name begins in parts array\n\t\tlet firstNameIndex;\n\n\t\t//location of first comma will separate last name from rest\n\t\t//join all parts leading to first comma as last name\n\t\tconst lastName = parts.reduce((lastName, current, index) => {\n\t\t\tif (!Array.isArray(lastName)) {\n\t\t\t\treturn lastName;\n\t\t\t}\n\t\t\tif (current.indexOf(',') === -1) {\n\t\t\t\tlastName.push(current);\n\t\t\t\treturn lastName;\n\t\t\t} else {\n\t\t\t\tcurrent = current.replace(',', '');\n\n\t\t\t\t// handle case where suffix is included in part of last name (ie: 'Hearst Jr., Willian Randolph')\n\t\t\t\tif (suffixes.indexOf(current.toLowerCase().replace(/\\./g, '')) > -1) {\n\t\t\t\t\tattrs.suffix = current;\n\t\t\t\t} else {\n\t\t\t\t\tlastName.push(current);\n\t\t\t\t}\n\n\t\t\t\tfirstNameIndex = index + 1;\n\t\t\t\treturn lastName.join(' ');\n\t\t\t}\n\t\t}, []);\n\n\t\tattrs.lastName = lastName;\n\n\t\tvar remainingParts = parts.slice(firstNameIndex);\n\t\tif (remainingParts.length > 1) {\n\t\t\tattrs.firstName = remainingParts.shift();\n\t\t\tattrs.middleName = remainingParts.join(' ');\n\t\t} else if (remainingParts.length) {\n\t\t\tattrs.firstName = remainingParts[0];\n\t\t}\n\n\t\t//create full name from attrs object\n\t\tconst nameWords = [];\n\t\tif (attrs.firstName) {\n\t\t\tnameWords.push(attrs.firstName);\n\t\t}\n\t\tif (attrs.middleName) {\n\t\t\tnameWords.push(attrs.middleName)\n\t\t}\n\t\tnameWords.push(attrs.lastName)\n\t\tif (attrs.suffix) {\n\t\t\tnameWords.push(attrs.suffix);\n\t\t}\n\t\tattrs.fullName = nameWords.join(' ');\n\n\n\t} else {\n\t\t//first name first format\n\n\n\t\tif (parts.length > 1 && salutations.indexOf(parts[0].toLowerCase().replace(/\\./g, '')) > -1) {\n\t\t\tattrs.salutation = parts.shift();\n\n\t\t\t// if we have a salutation assume 2nd part is last name\n\t\t\tif (parts.length === 1) {\n\t\t\t\tattrs.lastName = parts.shift();\n\t\t\t} else {\n\t\t\t\tattrs.firstName = parts.shift();\n\t\t\t}\n\t\t} else {\n\t\t\tattrs.firstName = parts.shift();\n\t\t}\n\n\t\tif (!attrs.lastName) {\n\t\t\tattrs.lastName = parts.length ? parts.pop() : '';\n\t\t}\n\n\t\t// test for compound last name, we reverse because middle name is last bit to be defined.\n\t\t// We already know lastname, so check next word if its part of a compound last name.\n\t\tconst revParts = parts.slice(0).reverse();\n\t\tconst compoundParts = [];\n\n\t\trevParts.every(part => {\n\t\t\tconst test = part.toLowerCase().replace(/\\./g, '');\n\n\t\t\tif (compound.indexOf(test) > -1) {\n\t\t\t\tcompoundParts.push(part);\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//break on first non compound word\n\t\t\treturn false;\n\t\t});\n\n\t\t//join compound parts with known last name\n\t\tif (compoundParts.length) {\n\t\t\tattrs.lastName = compoundParts.reverse().join(' ') + ' ' + attrs.lastName;\n\n\t\t\tparts = diff(parts, compoundParts);\n\t\t}\n\n\t\tif (parts.length) {\n\t\t\tattrs.middleName = parts.join(' ');\n\t\t}\n\n\t\t//remove comma like \"<lastName>, Jr.\"\n\t\tif (attrs.lastName) {\n\t\t\tattrs.lastName = attrs.lastName.replace(',', '');\n\t\t}\n\n\t\t//save a copy of original\n\t\tattrs.fullName = name;\n\n\t}\n\t//console.log('attrs:', JSON.stringify(attrs));\n\n\tfor (const [k, v] of Object.entries(attrs)) {\n\t\tattrs[k] = v.trim()\n\t}\n\treturn attrs;\n};\n\nparser.getFullestName = (str) => {\n\tlet name = str;\n\tlet names = [];\n\n\t//find fullname from strings like 'Jon and Sue Doyle'\n\tif (name.indexOf('&') > -1 || name.toLowerCase().indexOf(' and ') > -1) {\n\t\tnames = name.split(/\\s+(?:and|&)\\s+/gi);\n\n\t\t//pluck the name with the most parts (first, middle, last) from the array.\n\t\t//will grab 'Sue Doyle' in 'Jon & Sue Anne Doyle'\n\t\tif (names.length) {\n\t\t\tname = names.sort(function (a, b) {\n\t\t\t\treturn b.split(/\\s+/).length - a.split(/\\s+/).length;\n\t\t\t})[0];\n\t\t}\n\t}\n\n\treturn name;\n};\n\nparser.parseAddress = (str) => {\n\tstr = str.replace(/\\n/gi, ', ');\n\t//416 W. Manchester Blvd., Inglewood, CA  90301\n\tconst parts = str.split(/,\\s+/).reverse();\n\tlet stateZip;\n\tlet city;\n\tconst address = {};\n\n\tstateZip = parts[0].split(/\\s+/);\n\tparts.shift();\n\n\tcity = parts.shift();\n\n\taddress.address = parts.reverse().join(', ');\n\taddress.city = city;\n\taddress.state = stateZip[0];\n\taddress.zip = stateZip[1];\n\taddress.fullAddress = str;\n\n\treturn address;\n};\n","import arrayWithHoles from './_array_with_holes';\nimport iterableToArrayLimit from './_iterable_to_array';\nimport nonIterableRest from './_non_iterable_rest';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import _arrayLikeToArray from './_array_like_to_array';\n\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n","global.splitName = require('./index');\n"],"names":["$eSUCD","parcelRequire","$925187557fc60d44$var$combineFirstName","param","salutation","firstName","middleName","filter","s","join","trim","$925187557fc60d44$var$combineLastName","lastName","suffix","$925187557fc60d44$var$normalizeNameWithTitle","parts","i","names","length","$925187557fc60d44$var$normalizeMiddleName","test","$925187557fc60d44$var$splitter","module","exports","name1","conjuction","match","toLowerCase","split","map","name","$6LqT1","parseName","combineFirstName","combineLastName","combineFullName","$ad6207cf684ec33c$var$namecase","input","opt","Array","isArray","el","arguments","splitters","r","elArr","j","charAt","toUpperCase","slice","replace","x","y","z","substring","v","individualFields","$ad6207cf684ec33c$var$nc","checkName","normalize","$2Ml9n","$4ecbfcf070f5bb09$var$parser","ignoreSuffix","suffixes","includes","compound","n","a2","attrs","indexOf","pop","every","part","shift","revParts","reverse","compoundParts","push","concat","val","index","arr","lastIndexOf","fullName","firstNameIndex","lastName1","reduce","current","remainingParts","nameWords","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Object","entries","Symbol","iterator","next","done","_value","default","value","k","err","return","getFullestName","str","sort","a","b","parseAddress","stateZip","city","address","state","zip","fullAddress","$hkFdu","$20607877e6c1cd16$export$2e2bcd8739ae039","$gIFBq","$7YSvr","$8dcPj","$c9e446b0c334d312$export$2e2bcd8739ae039","$c2c106d8309d7447$export$2e2bcd8739ae039","iter","from","$5fa97cb480d6046c$export$2e2bcd8739ae039","TypeError","$gUT0G","$5cf86ac3e7c3e989$export$2e2bcd8739ae039","o","minLen","prototype","toString","call","constructor","$c50c8c203ad4c336$export$2e2bcd8739ae039","len","arr2","$parcel$global","splitName"],"version":3,"file":"split-human-name.min.js.map"}